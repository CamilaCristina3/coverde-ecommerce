{% load static %}

{% block content %}
{% include 'navbar.html' %}

<div class="container">
    <h2 class="text-center mt-4">Chat Privado</h2>
    
    <!-- Escolher destinatÃ¡rio -->
    <select id="receiver" class="form-control mb-3">
        <option disabled selected>Selecione um utilizador</option>
        {% for user in users %}
            <option value="{{ user.id }}">{{ user.primeiro_nome }} {{ user.ultimo_nome }}</option>
        {% endfor %}
    </select>

    <div id="chat-box" class="chat-box border p-3 mb-3" style="height: 300px; overflow-y: auto; background: #f9f9f9;">
        <!-- As mensagens aparecem aqui -->
    </div>

    <form id="chat-form" class="mt-3">
        <input type="text" id="message" class="form-control" placeholder="Escreva uma mensagem..." required>
        <button type="submit" class="btn btn-primary mt-2">Enviar</button>
    </form>
</div>

<link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}">
<link rel="stylesheet" href="{% static 'css/styles.css' %}">
<link rel="stylesheet" href="{% static 'css/customfonts.css' %}">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="https://js.pusher.com/7.0/pusher.min.js"></script>
<script src="{% static 'chat/chat.js' %}"></script>
{% endblock %}
