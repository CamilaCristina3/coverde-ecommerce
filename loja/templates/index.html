{% extends "base.html" %}
{% load static %}

{% block title %}In√≠cio - COVERDE{% endblock %}

{% block content %}
<div class="container py-5">

  <!-- ‚úÖ HERO SECTION -->
  <div class="text-center mb-5">
    <h1 class="display-4 fw-bold text-success">üåø Compra direto do produtor!</h1>
    <p class="lead text-muted">Produtos locais, frescos e sustent√°veis ao teu alcance.</p>
    <div class="mt-4 d-flex justify-content-center gap-3 flex-wrap">
      <a href="{% url 'produtos' %}" class="btn btn-orange px-4 py-2 rounded-pill">COME√áA A COMPRAR</a>
      <a href="{% url 'upload_product' %}" class="btn btn-outline-success px-4 py-2 rounded-pill">COME√áA A VENDER</a>
    </div>
  </div>

  <!-- ‚úÖ CATEGORIAS EM DESTAQUE -->
  <div class="row text-center mb-5">
    <div class="col-md-4">
      <div class="p-3 bg-white rounded shadow-sm">
        <h5 class="fw-bold">üçé Frutas</h5>
        <p class="text-muted">Doces, frescas e da √©poca.</p>
      </div>
    </div>
    <div class="col-md-4 mt-3 mt-md-0">
      <div class="p-3 bg-white rounded shadow-sm">
        <h5 class="fw-bold">ü•ï Legumes</h5>
        <p class="text-muted">Colhidos com cuidado e sabor.</p>
      </div>
    </div>
    <div class="col-md-4 mt-3 mt-md-0">
      <div class="p-3 bg-white rounded shadow-sm">
        <h5 class="fw-bold">üåø Ervas Arom√°ticas</h5>
        <p class="text-muted">Perfume e frescura na tua cozinha.</p>
      </div>
    </div>
  </div>

  <!-- ‚úÖ PRODUTOS EM DESTAQUE -->
  <h2 class="text-center fw-bold mb-4">üõí Produtos em Destaque</h2>
  <div class="row g-4 mb-5">
    {% for produto in produtos %}
      <div class="col-md-3 col-sm-6">
        <div class="card h-100 shadow-sm border-0">
          {% with imagem=produto.imagens.first %}
            {% if imagem %}
              <img src="{{ imagem.imagem.url }}" class="card-img-top" alt="{{ produto.nome }}">
            {% else %}
              <img src="{% static 'imgs/placeholder.jpg' %}" class="card-img-top" alt="Imagem indispon√≠vel">
            {% endif %}
          {% endwith %}
          <div class="card-body d-flex flex-column">
            <h5 class="card-title">{{ produto.nome }}</h5>
            <p class="text-muted mb-2"><strong>{{ produto.preco }} ‚Ç¨</strong></p>
            <a href="{% url 'produto_detail' produto.id %}" class="btn btn-outline-success mt-auto">Ver detalhes</a>
          </div>
        </div>
      </div>
    {% empty %}
      <div class="col-12 text-center">
        <p class="text-muted">Nenhum produto dispon√≠vel de momento.</p>
      </div>
    {% endfor %}
  </div>

  <!-- ‚úÖ CONSUMIDOR & PRODUTOR BLOCO -->
  <div class="row justify-content-center gap-4 px-3 pb-5">
    <!-- Consumidor -->
    <div class="col-md-5 bg-white shadow rounded p-4 text-center">
      <h3 class="fw-bold">√â consumidor?</h3>
      <p>Acede facilmente aos produtos mais saud√°veis e descobre a origem dos alimentos.</p>
      <a href="{% url 'produtos' %}" class="btn btn-orange px-4 py-2 rounded-pill mt-3">COME√áA A COMPRAR</a>
    </div>
    <!-- Produtor -->
    <div class="col-md-5 bg-white shadow rounded p-4 text-center">
      <h3 class="fw-bold">√â produtor?</h3>
      <p>Vende os teus produtos a um pre√ßo justo. Recebe diretamente do consumidor.</p>
      <a href="{% url 'upload_product' %}" class="btn btn-orange px-4 py-2 rounded-pill mt-3">COME√áA A VENDER</a>
    </div>
  </div>

</div>
{% endblock %}
